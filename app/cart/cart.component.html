<!DOCTYPE html>

<html>
    <head>
        <title>Books</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" i
          ntegrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
          crossorigin="anonymous">
          <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    </head>
    <body>
        <div class="container" >
            <div class="box row flex" >
            <div class="book" *ngFor="let b of books; index as i;">
                <div class="image">
                    <img src="./assets/{{b.code}}.jpg" fill>
                   
                </div>
                <div class="content">
                    <h4 class="title">{{b.title}}</h4>
                    <h4 class="author">{{b.author}}</h4>
                    <h4 class="price">{{b.price}}</h4>
                    
                    </div>
                    <div class="qtybtns">
                        <span class="decrease" style="user-select: none;" (click)="decreaseQty(b.code,unknownError)">-</span>
                        <input id="{{b.code}}" style="user-select: none;" type="number" class="qtybox" value={{carts[i].quantity}}>
                        <span class="increase" style="user-select: none;" (click)="increaseQty(b.code)">+</span>
                    </div>
                    <button class="btn buybtn" (click)="placeOrder(b.code,OrderPlaced,unknownError)">Buy Now</button>
                </div>
                
     
            </div>
        </div>

       
    </body>
    <ng-template #AddedToCart>
        <mat-dialog-content class="mat-cnt">
            <p class="mat-p">
                Added to Cart Successfully!
            </p>
            <mat-dialog-actions align="end">
               <button class="mat-btn" mat-dialog-button matDialogClose  color="primary">Close</button>
            </mat-dialog-actions>
        </mat-dialog-content>
    </ng-template>

    <ng-template #OrderPlaced>
        <mat-dialog-content class="mat-cnt">
            <p class="mat-p">
                Order Placed successfully!
            </p>
            <mat-dialog-actions align="end">
               <button class="mat-btn" mat-dialog-button matDialogClose  color="primary">Close</button>
            </mat-dialog-actions>
        </mat-dialog-content>
    </ng-template>

    <ng-template #unknownError>
        <mat-dialog-content class="mat-cnt">
            <p class="mat-p">
                UnknownError
            </p>
        </mat-dialog-content>
    </ng-template>
   
</html>
