<!DOCTYPE html>

<html>
    <head>
        <title>Bookso</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" i
          ntegrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
          crossorigin="anonymous">
          <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
          <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
          <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        </head>
    <body>
        <div class="search-box">
            <input type="text" class="form-control" name="search" [(ngModel)]="searching" autocomplete="off"
            placeholder="Search book by author, title, rating and price">
            
        </div>
        <div class="container" >
            <div class="box row flex" >
            <div class="book" *ngFor="let b of books | filter:searching ; index as i;">
                <div class="image">
                    <img src="./assets/{{b.code}}.jpg" fill>
                   
                </div>
                <div class="content">
                    <h4 class="title">{{b.title}}</h4>
                    <h5 class="author">{{b.author}}</h5>
                    <h6 class="rating">{{b.rating}}</h6>
                    <div class="like-container row flex">
                        <h6 class="price">{{b.price}} <span class="material-icons like-btn" style="color:#d91a3d" (click)="likeBook(b.code,AddedToFavorites)">
                            favorite
                        </span></h6> 
                    </div>
                    <div class="qtybtns">
                        <span class="decrease" style="user-select: none;" (click)="decreaseQty(b.code,unknownError)">-</span>
                        <input id="{{b.code}}" style="user-select: none;" type="number" class="qtybox" value=1>
                        <span class="increase" style="user-select: none;" (click)="increaseQty(b.code)">+</span>
                    </div>
                </div>
                <div class="buttons">
                    <button class="btn cartbtn" (click)="addToCart(b.code,AddedToCart,unknownError)"> Add to Cart </button><br>
                    <button class="btn buybtn" (click)="placeOrder(b.code,OrderPlaced,unknownError)">Buy Now</button>
                </div>
     
            </div>
        </div>

        </div>
        
        
        
    </body>

    <ng-template #AddedToCart>
        <mat-dialog-content class="mat-cnt">
            <p class="mat-p">
                Added to Cart Successfully!
            </p>
            <mat-dialog-actions align="end">
               <button class="mat-btn" mat-dialog-button matDialogClose  color="primary">Close</button>
            </mat-dialog-actions>
        </mat-dialog-content>
    </ng-template>
    <ng-template #AddedToFavorites>
        <mat-dialog-content class="mat-cnt">
            <p class="mat-p">
                Glad you Liked this!
            </p>
            <mat-dialog-actions align="end">
               <button class="mat-btn" mat-dialog-button matDialogClose  color="primary">Close</button>
            </mat-dialog-actions>
        </mat-dialog-content>
    </ng-template>
    <ng-template #OrderPlaced>
        <mat-dialog-content class="mat-cnt">
            <p class="mat-p">
                Order Placed successfully!
            </p>
            <mat-dialog-actions align="end">
               <button class="mat-btn" mat-dialog-button matDialogClose  color="primary">Close</button>
            </mat-dialog-actions>
        </mat-dialog-content>
    </ng-template>

    <ng-template #unknownError>
        <mat-dialog-content class="mat-cnt">
            <p class="mat-p">
                UnknownError
            </p>
        </mat-dialog-content>
    </ng-template>
   
</html>

